<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PB JETS – Aircraft For Sale. Premium pre-owned aircraft from Palm Beach.">
    <meta name="theme-color" content="#1F4466">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>PB JETS – Aircraft Inventory</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VKB8FT0NF8"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-VKB8FT0NF8');
    </script>
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Basically+A+Sans+Serif:wght@300;400;500&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("VXXN987SWYlXzJHfS"); 
        })();
    </script>
    <style>
        *,
        *::before,
        *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px;
            -ms-overflow-style: none;
            scrollbar-width: none;
            overscroll-behavior: none;
        }

        html::-webkit-scrollbar { display: none; }

        html, body {
            margin: 0;
            padding: 0;
            -ms-overflow-style: none;
            scrollbar-width: none;
            overscroll-behavior: none;
        }

        body::-webkit-scrollbar { display: none; }

        body {
            background-color: #1F4466;
            background: linear-gradient(180deg, #1F4466 0%, #102540 100%);
            background-attachment: fixed;
            color: #e8e8e8;
            font-family: 'Basically A Sans Serif', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 300;
            line-height: 1.7;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            touch-action: manipulation;
        }

        /* Header */
        .page-header {
            padding: 2.5rem 4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 10;
        }

        .logo {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 1.25rem;
            font-weight: 300;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: rgba(245, 245, 245, 0.7);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .logo:hover { color: #f5f5f5; }

        nav { display: flex; gap: 2rem; }

        nav a {
            color: rgba(245, 245, 245, 0.7);
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 300;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            transition: color 0.3s ease;
        }

        nav a:hover, nav a.active { color: rgba(245, 245, 245, 1); }

        /* Main Content */
        main {
            padding: 2rem 4rem 6rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .page-title {
            text-align: center;
            margin-bottom: 4rem;
        }

        .page-title h1 {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: clamp(2rem, 5vw, 3.25rem);
            font-weight: 300;
            letter-spacing: 0.04em;
            color: #e8e8e8;
            margin-bottom: 1rem;
        }

        .page-title p {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 1rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: rgba(232, 232, 232, 0.4);
        }

        /* Inventory Grid */
        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 2rem;
        }

        .inventory-card {
            background: rgba(16, 37, 64, 0.6);
            border: 1px solid rgba(192, 192, 192, 0.1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
        }

        .inventory-card:hover {
            border-color: rgba(192, 192, 192, 0.25);
            transform: translateY(-6px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .inventory-card::before {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
            background: linear-gradient(90deg, #a0a0a0, #d0d0d0);
            transform: scaleX(0); transform-origin: left;
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 2;
        }

        .inventory-card:hover::before { transform: scaleX(1); }

        .card-image {
            width: 100%;
            height: 240px;
            overflow: hidden;
            position: relative;
        }

        .card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .inventory-card:hover .card-image img {
            transform: scale(1.05);
        }

        .card-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(16, 37, 64, 0.9);
            border: 1px solid rgba(192, 192, 192, 0.2);
            padding: 0.5rem 1rem;
            font-size: 0.65rem;
            font-weight: 400;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: #c0c0c0;
            backdrop-filter: blur(10px);
        }

        .card-content {
            padding: 1.75rem 2rem 2rem;
        }

        .card-content h3 {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 1.5rem;
            font-weight: 300;
            letter-spacing: 0.02em;
            color: #e8e8e8;
            margin-bottom: 0.5rem;
        }

        .card-registration {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 0.75rem;
            font-weight: 300;
            letter-spacing: 0.1em;
            color: rgba(192, 192, 192, 0.6);
            margin-bottom: 1.25rem;
        }

        .card-specs {
            display: flex;
            gap: 2rem;
            padding-top: 1.25rem;
            border-top: 1px solid rgba(192, 192, 192, 0.15);
        }

        .card-spec {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .card-spec-label {
            font-size: 0.6rem;
            font-weight: 500;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: rgba(232, 232, 232, 0.5);
        }

        .card-spec-value {
            font-size: 0.9rem;
            font-weight: 300;
            color: #e8e8e8;
        }

        .card-action {
            position: absolute;
            bottom: 0.75rem;
            right: 2rem;
            font-size: 0.65rem;
            font-weight: 400;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: rgba(232, 232, 232, 0.35);
            opacity: 0;
            transform: translateX(-8px);
            transition: all 0.3s ease;
        }

        .inventory-card:hover .card-action {
            opacity: 1;
            transform: translateX(0);
            color: #c0c0c0;
        }

        /* Detail Overlay */
        .detail-overlay {
            position: fixed;
            inset: 0;
            background: rgba(5, 5, 5, 0.9);
            backdrop-filter: blur(20px);
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.5s;
            overflow: hidden;
            display: flex;
            justify-content: center;
            padding: 0;
        }

        .detail-overlay-scroll {
            width: 100%;
            height: 100%;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 2rem;
            -ms-overflow-style: auto !important;
            scrollbar-width: thin;
            scrollbar-color: rgba(192, 192, 192, 0.5) rgba(16, 37, 64, 0.8);
            background: rgba(5, 5, 5, 0.9);
        }

        /* Force scrollbar visibility on WebKit/Safari */
        .detail-overlay-scroll::-webkit-scrollbar {
            -webkit-appearance: none;
            width: 14px;
            background-color: rgba(16, 37, 64, 0.8);
        }

        .detail-overlay-scroll::-webkit-scrollbar-track {
            background-color: rgba(16, 37, 64, 0.8);
        }

        .detail-overlay-scroll::-webkit-scrollbar-thumb {
            background-color: rgba(192, 192, 192, 0.5);
            border-radius: 7px;
            border: 3px solid rgba(16, 37, 64, 0.8);
        }

        .detail-overlay-scroll::-webkit-scrollbar-thumb:hover {
            background-color: rgba(192, 192, 192, 0.7);
        }

        .detail-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .detail-container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(16, 37, 64, 0.4);
            border: 1px solid rgba(192, 192, 192, 0.1);
            transform: translateY(40px) scale(0.98);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .detail-overlay.active .detail-container {
            transform: translateY(0) scale(1);
        }

        .detail-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(5, 5, 5, 0.6);
            border: 1px solid rgba(192, 192, 192, 0.3);
            color: rgba(255, 255, 255, 0.8);
            cursor: pointer;
            font-size: 1.25rem;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
            border-radius: 4px;
        }

        .detail-close:hover {
            color: #fff;
            border-color: rgba(192, 192, 192, 0.4);
        }

        /* Gallery */
        .detail-gallery {
            position: relative;
            width: 100%;
            height: 500px;
            overflow: hidden;
        }

        .gallery-main {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(5, 5, 5, 0.3);
        }

        .gallery-main img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(16, 37, 64, 0.8);
            border: 1px solid rgba(192, 192, 192, 0.2);
            color: rgba(192, 192, 192, 0.7);
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.25rem;
        }

        .gallery-nav:hover {
            color: #fff;
            border-color: rgba(192, 192, 192, 0.4);
        }

        .gallery-prev { left: 1rem; }
        .gallery-next { right: 1rem; }

        .gallery-counter {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(16, 37, 64, 0.8);
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            color: rgba(192, 192, 192, 0.7);
        }

        .gallery-thumbnails {
            display: flex;
            gap: 0.5rem;
            padding: 1rem;
            overflow-x: auto;
            overflow-y: hidden;
            background: rgba(16, 37, 64, 0.6);
            scrollbar-width: thin;
            scrollbar-color: rgba(192, 192, 192, 0.5) rgba(16, 37, 64, 0.8);
        }

        .gallery-thumbnails::-webkit-scrollbar {
            -webkit-appearance: none;
            height: 12px;
            background-color: rgba(16, 37, 64, 0.8);
        }

        .gallery-thumbnails::-webkit-scrollbar-track {
            background-color: rgba(16, 37, 64, 0.8);
        }

        .gallery-thumbnails::-webkit-scrollbar-thumb {
            background-color: rgba(192, 192, 192, 0.5);
            border-radius: 6px;
            border: 2px solid rgba(16, 37, 64, 0.8);
        }

        .gallery-thumbnails::-webkit-scrollbar-thumb:hover {
            background-color: rgba(192, 192, 192, 0.7);
        }

        .gallery-thumb {
            width: 80px;
            height: 60px;
            flex-shrink: 0;
            cursor: pointer;
            opacity: 0.5;
            transition: opacity 0.3s ease;
            border: 2px solid transparent;
        }

        .gallery-thumb:hover,
        .gallery-thumb.active {
            opacity: 1;
            border-color: rgba(192, 192, 192, 0.5);
        }

        .gallery-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Detail Content */
        .detail-content {
            padding: 3rem;
        }

        .detail-top-header {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding: 2rem 3rem;
            background: rgba(16, 37, 64, 0.6);
            border-bottom: 1px solid rgba(192, 192, 192, 0.1);
            gap: 1rem;
        }

        .detail-title h2 {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 2rem;
            font-weight: 300;
            letter-spacing: 0.02em;
            color: #e8e8e8;
            margin-bottom: 0.5rem;
            padding-right: 3rem;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .detail-title p {
            font-size: 0.85rem;
            letter-spacing: 0.1em;
            color: rgba(192, 192, 192, 0.6);
        }

        .detail-cta {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.65rem 1.25rem;
            border: 1px solid rgba(192, 192, 192, 0.3);
            background: transparent;
            color: #e8e8e8;
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 0.6rem;
            font-weight: 400;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .detail-cta:hover {
            background: #c0c0c0;
            border-color: #c0c0c0;
            color: #050505;
        }

        /* Specs Grid */
        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 2rem;
        }

        .specs-section {
            background: rgba(5, 5, 5, 0.2);
            border: 1px solid rgba(192, 192, 192, 0.1);
            padding: 1.75rem;
        }

        .specs-section h4 {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 0.7rem;
            font-weight: 500;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: #c0c0c0;
            margin-bottom: 1.25rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(192, 192, 192, 0.15);
        }

        .specs-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .spec-row {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            gap: 1rem;
        }

        .spec-row .label {
            font-size: 0.8rem;
            color: rgba(232, 232, 232, 0.6);
        }

        .spec-row .value {
            font-size: 0.85rem;
            color: #e8e8e8;
            text-align: right;
        }

        /* Contact Overlay */
        .contact-overlay {
            position: fixed;
            inset: 0;
            background: rgba(5, 5, 5, 0.8);
            backdrop-filter: blur(20px);
            z-index: 3000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .contact-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .contact-content {
            width: 100%;
            max-width: 500px;
            padding: 4rem;
            background: rgba(16, 37, 64, 0.4);
            border: 1px solid rgba(192, 192, 192, 0.1);
            position: relative;
            transform: translateY(40px) scale(0.98);
            transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .contact-overlay.active .contact-content {
            transform: translateY(0) scale(1);
        }

        .contact-close {
            position: absolute;
            top: 2rem;
            right: 2rem;
            background: transparent;
            border: none;
            color: rgba(192, 192, 192, 0.4);
            cursor: pointer;
            font-size: 1.5rem;
            transition: color 0.3s ease;
        }

        .contact-close:hover { color: #fff; }

        .contact-title {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 2rem;
            font-weight: 300;
            letter-spacing: 0.05em;
            color: #f5f5f5;
            margin-bottom: 3rem;
            text-align: center;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-label {
            font-size: 0.65rem;
            font-weight: 500;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: rgba(192, 192, 192, 0.6);
        }

        .form-input, .form-textarea {
            background: rgba(5, 5, 5, 0.2);
            border: 1px solid rgba(192, 192, 192, 0.15);
            padding: 1rem;
            color: #f5f5f5;
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 0.9rem;
            font-weight: 300;
            transition: all 0.3s ease;
            outline: none;
        }

        .form-input:focus, .form-textarea:focus {
            border-color: rgba(192, 192, 192, 0.5);
            background: rgba(5, 5, 5, 0.4);
        }

        .form-textarea {
            min-height: 120px;
            resize: none;
        }

        .form-submit {
            margin-top: 1rem;
            padding: 1.125rem;
            background: transparent;
            border: 1px solid rgba(192, 192, 192, 0.3);
            color: #f5f5f5;
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 0.75rem;
            font-weight: 400;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .form-submit:hover {
            background: #c0c0c0;
            border-color: #c0c0c0;
            color: #050505;
        }

        /* Footer */
        footer {
            padding: 4rem;
            text-align: center;
            background: transparent;
        }

        .footer-tagline {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 1.25rem;
            font-weight: 300;
            letter-spacing: 0.25em;
            color: rgba(245, 245, 245, 0.7);
            margin-bottom: 0.5rem;
        }

        .footer-sub-tag {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 1.25rem;
            font-weight: 300;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: rgba(245, 245, 245, 0.7);
            margin-bottom: 1.25rem;
        }

        .footer-info {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 0.75rem;
            font-weight: 300;
            letter-spacing: 0.12em;
            color: rgba(245, 245, 245, 0.7);
        }

        .footer-disclaimer {
            font-family: 'Basically A Sans Serif', sans-serif;
            font-size: 0.7rem;
            font-weight: 300;
            line-height: 1.6;
            letter-spacing: 0.02em;
            color: rgba(232, 232, 232, 0.75);
            max-width: 800px;
            margin: 2rem auto 0;
            padding-top: 2rem;
            border-top: 1px solid rgba(192, 192, 192, 0.1);
        }

        /* Responsive */
        @media (max-width: 900px) {
            .page-header { padding: 2rem 2.5rem; }
            nav { gap: 1.5rem; }
            nav a { font-size: 0.8rem; }
            main { padding: 2rem 2.5rem 4rem; }
            .inventory-grid { grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); }
            .detail-gallery { height: 400px; }
            .detail-content { padding: 2rem; }
            .specs-grid { grid-template-columns: 1fr 1fr; }
            footer { padding: 3rem 2.5rem; }
        }

        @media (max-width: 600px) {
            .page-header {
                padding: 1.5rem;
                flex-direction: column;
                gap: 1.25rem;
            }
            .logo { font-size: 1.1rem; }
            nav { gap: 1rem; flex-wrap: wrap; justify-content: center; }
            nav a { font-size: 0.75rem; }
            .nav-management { font-size: 0; }
            .nav-management::after { 
                content: "Manage"; 
                font-size: 0.75rem; 
                letter-spacing: 0.2em;
                text-transform: uppercase;
            }
            main { padding: 1.5rem 1.25rem 3rem; }
            .page-title { margin-bottom: 2.5rem; }
            .page-title h1 { font-size: 1.75rem; }
            .inventory-grid { grid-template-columns: 1fr; }
            .card-image { height: 200px; }
            .card-content { padding: 1.5rem; }
            .card-content h3 { font-size: 1.25rem; }
            .card-specs { gap: 1.25rem; flex-wrap: wrap; }
            .card-action { opacity: 1; transform: translateX(0); }
            .detail-overlay { padding: 0; }
            .detail-overlay-scroll { 
                padding: 0; 
                background: rgba(5, 5, 5, 0.9);
                min-height: 100vh;
            }
            .detail-container {
                max-width: 100%;
                margin: 0;
                width: 100%;
                min-height: 100vh;
                border: none;
                background: rgba(16, 37, 64, 0.4);
            }
            .detail-title h2 {
                padding-right: 3.5rem;
                font-size: 1.5rem;
            }
            .detail-gallery { height: 280px; }
            .gallery-nav { width: 40px; height: 40px; font-size: 1rem; }
            .gallery-thumbnails { padding: 0.75rem; gap: 0.375rem; }
            .gallery-thumb { width: 60px; height: 45px; }
            .detail-content { padding: 1.5rem; }
            .detail-top-header { padding: 1.5rem 1.5rem 1rem; }
            .detail-title h2 { font-size: 1.5rem; }
            .detail-cta { width: 100%; justify-content: center; }
            .specs-grid { grid-template-columns: 1fr; gap: 1.25rem; }
            .specs-section { padding: 1.25rem; }
            .contact-content { padding: 2.5rem 1.5rem; max-width: 95%; }
            footer { padding: 3rem 1.5rem; }
            .footer-tagline, .footer-sub-tag { font-size: 1.1rem; }
        }
    </style>
</head>
<body>

    <header class="page-header">
        <a href="index.html" class="logo">PB JETS</a>
        <nav>
            <a href="index.html#fleet">Fleet</a>
            <a href="inventory.html" class="active">Inventory</a>
            <a href="index.html#management" class="nav-management">Management</a>
            <a href="#" onclick="openContactOverlay('General Inquiry'); return false;">Contact</a>
        </nav>
    </header>

    <main>
        <div class="page-title">
            <h1>Aircraft For Sale</h1>
            <p>Premium pre-owned aircraft available now</p>
        </div>

        <div class="inventory-grid" id="inventoryGrid">
            <!-- Cards will be populated by JavaScript -->
        </div>
    </main>

    <footer>
        <p class="footer-tagline">Fly private. Live longer.</p>
        <p class="footer-sub-tag">Veteran-owned</p>
        <p class="footer-info">© 2025 PB JETS · Palm Beach · Discretion assured</p>
        <p class="footer-disclaimer">PB JETS is an "Air Charter Broker" under DOT Regulations operating under Part 295 Regulations on behalf of our clients. PB JETS does not own or operate any aircraft. All flights are operated by registered Part 135 Operators or the Foreign Equivalent that meet and exceed standards set by the FAA and internal requirements set by PB JETS.</p>
    </footer>

    <!-- Detail Overlay -->
    <div class="detail-overlay" id="detailOverlay">
        <div class="detail-overlay-scroll">
            <div class="detail-container">
                <button class="detail-close" onclick="closeDetailOverlay()">&times;</button>
            <div class="detail-top-header">
                <div class="detail-title">
                    <h2 id="detailTitle">Aircraft Name</h2>
                    <p id="detailSubtitle">Serial Number · Registration</p>
                </div>
                <button class="detail-cta" onclick="openContactFromDetail()">
                    Inquire About This Aircraft
                </button>
            </div>
            <div class="detail-gallery">
                <div class="gallery-main">
                    <img id="galleryMainImage" src="" alt="Aircraft">
                </div>
                <button class="gallery-nav gallery-prev" onclick="prevImage()">&#8249;</button>
                <button class="gallery-nav gallery-next" onclick="nextImage()">&#8250;</button>
                <div class="gallery-counter" id="galleryCounter">1 / 22</div>
            </div>
            <div class="gallery-thumbnails" id="galleryThumbnails">
                <!-- Thumbnails populated by JS -->
            </div>
            <div class="detail-content">
                <div class="specs-grid" id="specsGrid">
                    <!-- Specs populated by JS -->
                </div>
            </div>
            </div>
        </div>
    </div>

    <!-- Contact Overlay -->
    <div class="contact-overlay" id="contactOverlay">
        <div class="contact-content">
            <button class="contact-close" onclick="closeContactOverlay()">&times;</button>
            <h2 class="contact-title" id="contactTitle">Inquiry</h2>
            <form class="contact-form" id="contactForm" onsubmit="handleFormSubmit(event)">
                <input type="hidden" name="subject" id="contactSubject" value="General Inquiry">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" name="user_name" class="form-input" required placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label class="form-label">Email Address</label>
                    <input type="email" name="user_email" class="form-input" required placeholder="john@example.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Message</label>
                    <textarea name="message" class="form-textarea" required placeholder="I'm interested in learning more about this aircraft..."></textarea>
                </div>
                <button type="submit" class="form-submit" id="contactSubmitBtn">Send Message</button>
            </form>
        </div>
    </div>

    <script>
        // ═══════════════════════════════════════════════════════════════════
        // AIRCRAFT DATA - Edit this section to add/modify aircraft listings
        // ═══════════════════════════════════════════════════════════════════
        const aircraftInventory = [
            {
                id: 'caravan-2013',
                name: '2013 Cessna Grand Caravan EX',
                model: 'C208B',
                serial: '208B5054',
                registration: 'N2150',
                year: 2013,
                status: 'Available',
                images: Array.from({length: 22}, (_, i) => `images/caravan/${i + 1}.webp`),
                specs: {
                    airframe: {
                        'Total Time': '9,626.4 hrs',
                        'Cycles': '14,876'
                    },
                    engine: {
                        'Model': 'Pratt & Whitney PT6A-140',
                        'TSN': '2,678.3 hrs',
                        'TSHSI': '0 hrs (Fresh HSI)'
                    },
                    propeller: {
                        'Type': '4-Blade McCauley',
                        'TSO': '4.0 hrs'
                    },
                    avionics: {
                        'Flight Display': 'Garmin G1000',
                        'Transponder': 'GTX 33 Transponder',
                        'Traffic': 'KTA 870 Traffic Advisory',
                        'Weather Radar': 'Garmin GWX68',
                        'ADS-B': 'GTX33ES',
                        'TAWS': 'Installed'
                    },
                    interior: {
                        'Overhead Liner': 'New (2025)',
                        'Flooring': 'New (2025)',
                        'Crew Seats': '2',
                        'Passenger Seats': '8 Executive'
                    },
                    exterior: {
                        'Paint': 'Matterhorn White with Gray (New 2025)',
                        'Cargo Pod': 'Installed'
                    },
                    options: {
                        'Exhaust Deflector': 'Installed',
                        'Rudder Gust Lock': 'Installed',
                        'Air Conditioning': 'Installed',
                        'Oxygen System': 'Installed',
                        'Cargo Pod': 'Installed'
                    }
                }
            }
        ];

        // ═══════════════════════════════════════════════════════════════════
        // APPLICATION CODE
        // ═══════════════════════════════════════════════════════════════════

        let currentAircraft = null;
        let currentImageIndex = 0;

        // Render inventory cards
        function renderInventoryGrid() {
            const grid = document.getElementById('inventoryGrid');
            grid.innerHTML = '';

            aircraftInventory.forEach(aircraft => {
                const card = document.createElement('article');
                card.className = 'inventory-card';
                card.setAttribute('role', 'button');
                card.setAttribute('tabindex', '0');
                card.setAttribute('aria-label', `View details for ${aircraft.name}`);
                card.onclick = () => openDetailOverlay(aircraft);
                card.onkeydown = (e) => { if (e.key === 'Enter' || e.key === ' ') openDetailOverlay(aircraft); };

                card.innerHTML = `
                    <div class="card-image">
                        <img src="${aircraft.images[0]}" alt="${aircraft.name}" loading="lazy">
                        <span class="card-badge">${aircraft.status}</span>
                    </div>
                    <div class="card-content">
                        <h3>${aircraft.name}</h3>
                        <p class="card-registration">S/N ${aircraft.serial} · ${aircraft.registration}</p>
                        <div class="card-specs">
                            <div class="card-spec">
                                <span class="card-spec-label">Total Time</span>
                                <span class="card-spec-value">${aircraft.specs.airframe['Total Time']}</span>
                            </div>
                            <div class="card-spec">
                                <span class="card-spec-label">Engine TSN</span>
                                <span class="card-spec-value">${aircraft.specs.engine['TSN']}</span>
                            </div>
                        </div>
                    </div>
                    <span class="card-action">View Details →</span>
                `;

                grid.appendChild(card);
            });
        }

        // Detail Overlay
        function openDetailOverlay(aircraft) {
            currentAircraft = aircraft;
            currentImageIndex = 0;

            document.getElementById('detailTitle').textContent = aircraft.name;
            document.getElementById('detailSubtitle').textContent = 
                `S/N ${aircraft.serial} · ${aircraft.registration}`;

            updateGallery();
            renderThumbnails();
            renderSpecs();

            document.getElementById('detailOverlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeDetailOverlay() {
            document.getElementById('detailOverlay').classList.remove('active');
            document.body.style.overflow = '';
        }

        function updateGallery() {
            const mainImg = document.getElementById('galleryMainImage');
            mainImg.src = currentAircraft.images[currentImageIndex];
            document.getElementById('galleryCounter').textContent = 
                `${currentImageIndex + 1} / ${currentAircraft.images.length}`;

            // Update thumbnail active state
            document.querySelectorAll('.gallery-thumb').forEach((thumb, i) => {
                thumb.classList.toggle('active', i === currentImageIndex);
            });
        }

        function renderThumbnails() {
            const container = document.getElementById('galleryThumbnails');
            container.innerHTML = '';

            currentAircraft.images.forEach((img, i) => {
                const thumb = document.createElement('div');
                thumb.className = `gallery-thumb ${i === 0 ? 'active' : ''}`;
                thumb.onclick = () => {
                    currentImageIndex = i;
                    updateGallery();
                };
                thumb.innerHTML = `<img src="${img}" alt="Thumbnail ${i + 1}" loading="lazy">`;
                container.appendChild(thumb);
            });
        }

        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + currentAircraft.images.length) % currentAircraft.images.length;
            updateGallery();
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % currentAircraft.images.length;
            updateGallery();
        }

        function renderSpecs() {
            const grid = document.getElementById('specsGrid');
            grid.innerHTML = '';

            const sectionNames = {
                airframe: 'Airframe',
                engine: 'Engine',
                propeller: 'Propeller',
                avionics: 'Avionics',
                interior: 'Interior',
                exterior: 'Exterior',
                options: 'Additional Options'
            };

            Object.entries(currentAircraft.specs).forEach(([key, specs]) => {
                const section = document.createElement('div');
                section.className = 'specs-section';

                let specsHtml = '';
                Object.entries(specs).forEach(([label, value]) => {
                    specsHtml += `
                        <div class="spec-row">
                            <span class="label">${label}</span>
                            <span class="value">${value}</span>
                        </div>
                    `;
                });

                section.innerHTML = `
                    <h4>${sectionNames[key] || key}</h4>
                    <div class="specs-list">${specsHtml}</div>
                `;

                grid.appendChild(section);
            });
        }

        // Contact Overlay
        function openContactOverlay(subject = 'General Inquiry') {
            document.getElementById('contactSubject').value = subject;
            document.getElementById('contactTitle').textContent = 
                subject.includes(':') ? subject.split(': ')[1] : 'Contact Us';
            document.getElementById('contactOverlay').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function openContactFromDetail() {
            const subject = `Inquiry: ${currentAircraft.name} (${currentAircraft.registration})`;
            closeDetailOverlay();
            setTimeout(() => openContactOverlay(subject), 300);
        }

        function closeContactOverlay() {
            document.getElementById('contactOverlay').classList.remove('active');
            document.body.style.overflow = '';
            setTimeout(() => document.getElementById('contactForm').reset(), 500);
        }

        // Form submission
        function handleFormSubmit(event) {
            event.preventDefault();
            const form = event.target;
            const submitBtn = document.getElementById('contactSubmitBtn');
            const originalText = submitBtn.textContent;

            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';

            const templateParams = {
                user_name: form.user_name.value,
                user_email: form.user_email.value,
                message: form.message.value,
                subject: document.getElementById('contactSubject').value
            };

            emailjs.send('service_od244gt', 'template_dkvjzp7', templateParams)
                .then(() => {
                    submitBtn.textContent = 'Message Sent';
                    setTimeout(() => {
                        closeContactOverlay();
                        submitBtn.disabled = false;
                        submitBtn.textContent = originalText;
                    }, 2000);
                }, (err) => {
                    submitBtn.textContent = 'Error - Try Again';
                    submitBtn.disabled = false;
                    console.error('EmailJS Error:', err);
                });
        }

        // Close overlays on background click
        document.getElementById('detailOverlay').addEventListener('click', (e) => {
            if (e.target.id === 'detailOverlay' || e.target.classList.contains('detail-overlay-scroll')) closeDetailOverlay();
        });

        document.getElementById('contactOverlay').addEventListener('click', (e) => {
            if (e.target.id === 'contactOverlay') closeContactOverlay();
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (!currentAircraft) return;
            
            if (e.key === 'Escape') {
                if (document.getElementById('contactOverlay').classList.contains('active')) {
                    closeContactOverlay();
                } else if (document.getElementById('detailOverlay').classList.contains('active')) {
                    closeDetailOverlay();
                }
            }
            
            if (document.getElementById('detailOverlay').classList.contains('active') &&
                !document.getElementById('contactOverlay').classList.contains('active')) {
                if (e.key === 'ArrowLeft') prevImage();
                if (e.key === 'ArrowRight') nextImage();
            }
        });

        // Set skip-intro flag when navigating to index.html
        // This prevents the intro animation from playing when coming from inventory
        function setupNavigationHandlers() {
            document.querySelectorAll('a[href^="index.html"]').forEach(link => {
                link.addEventListener('click', () => {
                    sessionStorage.setItem('pb-jets-skip-intro', 'true');
                });
            });
        }

        // Preload all aircraft images sequentially for instant display
        async function preloadImagesSequentially() {
            const allImages = [];
            aircraftInventory.forEach(aircraft => {
                aircraft.images.forEach(src => allImages.push(src));
            });

            for (const src of allImages) {
                await new Promise((resolve) => {
                    const img = new Image();
                    img.onload = resolve;
                    img.onerror = resolve; // Continue even if one fails
                    img.src = src;
                });
            }
        }

        // Initialize
        renderInventoryGrid();
        setupNavigationHandlers();
        preloadImagesSequentially();
    </script>
</body>
</html>

